<changeSet id="3" author="Michal">
    <createTable tableName="user_favorite_games">
        <column name="user_id" type="BIGINT">
            <constraints nullable="false"/>
        </column>
        <column name="game_id" type="BIGINT">
            <constraints nullable="false"/>
        </column>
        <constraints primaryKeyName="pk_user_favorite_games" primaryKey="true">
            <primaryKeyColumn name="user_id"/>
            <primaryKeyColumn name="game_id"/>
        </constraints>
    </createTable>

    <addForeignKeyConstraint
            constraintName="fk_user_favorite"
            baseTableName="user_favorite_games"
            baseColumnNames="user_id"
            referencedTableName="users"
            referencedColumnNames="user_id"/>

    <addForeignKeyConstraint
            constraintName="fk_game_favorite"
            baseTableName="user_favorite_games"
            baseColumnNames="game_id"
            referencedTableName="games"
            referencedColumnNames="id"/>
</changeSet>